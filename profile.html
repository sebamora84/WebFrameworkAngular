<?php
require './Api/User/VerifySession.php';
require './Api/Controls/Buttons.php';
verifySession();
?>
<!DOCTYPE html>
<html>
	<head>	
		<title>Tracker -Perfil</title>
		<link rel="stylesheet" href="./Styles/styles.css">
		<link rel="stylesheet" href="./Styles/jquery-ui.min.css">
		<script src="./Scripts/jquery-3.1.1.min.js"></script>
		<script src="./Scripts/jquery-ui-1.12.1.custom/jquery-ui.min.js"></script>
		<script src="./Scripts/list.min.js"></script>
		<script src="./Scripts/angular.min.js"></script>
		<script src="./Scripts/profile.js"></script>
    </head>
	<body>
		<div class="wrapper" data-ng-app="profileApp">
			<div class="logoheaderwrap">
				<div class="logoheader">
					<div class="logo">
							<a href="./">
							  <img src="Images/logo.png" alt="Tracker" width="auto" height="30">
							</a>						
					</div>
				</div>
			</div>
			<div class="headerwrap">
				<div class="header">
					<div class="session">
						<?php 
							profileButton();
							sessionButton();
						?>
					</div>
				</div>
			</div>
			<div class="navigationwrap">
				<div class="navigation">
					<?php 
						menuButtons();
					?>
				</div>
			</div>
			<div class="leftcolumnwrap">
				<div class="leftcolumn">
					
					
				</div>
			</div>	
			<div class="middlecolumnwrap">
				<div class="middlecolumn">					
					<div id="resetPassword" data-ng-controller="passwordCtrl">
						<div id="pswd_must" data-ng- data-ng-show="mustChange" data-ng-cloak>
							<ul>
								<li class="invalid"><strong>Debe cambiar el password</strong></li>
							</ul>
						</div>
						<div class="passwordEditor">
							<p><label for="currentPassword">Password Actual</label> 
							<p><input id="currentPassword" data-ng-model="currentPassword" type="password" data-ng-keyup="triggerValidPassword($event)">	
							<p><label for="newPassword">Password Nuevo</label> 
							<p><input id="newPassword" data-ng-model="newPassword" type="password" data-ng-keyup="triggerValidation($event)">	
							<p><label for="repeatPassword">Repetir Password</label> 
							<p><input id="repeatPassword" data-ng-model="repeatPassword" type="password" data-ng-keyup="triggerValidation($event)">
						</div>
						<div class="passwordEditorActions">
							<button id="savePasswordButton" data-ng-click="savePassword()">Guardar</button>
						</div>
						
						<div id="pswd_incorrect" data-ng-show="!passwordValid" data-ng-cloak>
							<ul>
								<li id="incorrect" data-ng-class="{invalid:true, valid:passwordValid}"><strong>Password incorrecto</strong></li>
							</ul>
						</div>
						<div id="pswd_info" data-ng-show="(!leterValid||!numberValid||!lenghtValid) && passwordValid" data-ng-cloak>
							<h4>El password debe tener los siguientes requerimientos:</h4>
							<ul>
								<li id="letter" data-ng-class="{invalid:true, valid:leterValid}">Al menos <strong>una letra</strong></li>
								<li id="number" data-ng-class="{invalid:true, valid:numberValid}">Al menos <strong>un numero</strong></li>
								<li id="length" data-ng-class="{invalid:true, valid:lenghtValid}">Al menos <strong>8 caracteres</strong></li>
							</ul>
						</div>
						
						<div id="pswd_match" data-ng-show="!matchValid && leterValid && numberValid && lenghtValid && passwordValid" data-ng-cloak>
							<ul>
								<li id="match" data-ng-class="{invalid:true, valid:matchValid}"><strong>El password debe coincidir</strong></li>
							</ul>
						</div>	
					</div>	
				</div>				
			</div>			
			<div class="rightcolumnwrap">
				<div class="rightcolumn">
				</div>
			</div>
			<div class="footerwrap">
				<div class="footer">
					
				</div>
			</div>
			<div class="poweredwrap">
				<div class="powered">
					<label> Powered by <a href="http://www.linkedin.com/in/sebastian-mora-b1785131">SM</a></label>
				</div>
			</div>
		</div>	
	</body>
</html>